<!DOCTYPE html>
<html ng-app='worldPop'>
<head>
<title>World Populations</title>
<link rel='stylesheet' href='//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css'>
<link rel='stylesheet' href='/style/app.css'>
</head>
<body>
<div ng-controller='ChartCtrl' class='linechart-view'>
  <wp-linechart id='lc'>
  </wp-linechart>
</div>
<div ng-controller='TabularCtrl' class='tabular-view'>
  <table class='table table-bordered table-striped'>
    <thead><tr>
      <th>Country</th>
      <th ng-repeat='year in years'>{{year}}</th>
    </tr></thead>
    <tbody>
      <tr ng-repeat='countryData in countriesData'>
        <td>{{countryData.name}}</td>
        <td ng-repeat='yearPop in countryData.populationByYear'>
          {{yearPop.population}}
        </td>
      </tr>
    </tbody>
  </table>
</div>

<script src='http://d3js.org/d3.v3.min.js' charset='utf-8'></script>

<script type='text/javascript'>
  var worldPopData = <%- worldPopData %>;
</script>
<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.1/angular.min.js'></script>
<script src='/app.js'></script>
<script src='/services/wp_data.js'></script>
<script src='/controllers/tabular.js'></script>
<script src='/controllers/chart.js'></script>
<script src='/directives/wp_linechart.js'></script>
</body>
</html>